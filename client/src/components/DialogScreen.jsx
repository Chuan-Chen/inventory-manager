import React, { useState } from "react"
import styled from "styled-components"
import EditProfile from "./EditProfile"

const Page = styled.div`
/* ----------------------------------------------
 * Generated by Animista on 2024-10-25 13:37:56
 * Licensed under FreeBSD License.
 * See http://animista.net/license for more info. 
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation fade-in-fwd
 * ----------------------------------------
 */
@-webkit-keyframes fade-in-fwd {
  0% {
    -webkit-transform: translateZ(-80px);
            transform: translateZ(-80px);
    opacity: 0;
  }
  100% {
    -webkit-transform: translateZ(0);
            transform: translateZ(0);
    opacity: 1;
  }
}
@keyframes fade-in-fwd {
  0% {
    -webkit-transform: translateZ(-80px);
            transform: translateZ(-80px);
    opacity: 0;
  }
  100% {
    -webkit-transform: translateZ(0);
            transform: translateZ(0);
    opacity: 1;
  }
}


    height: 100vh;
    width: 100vw;
    z-index: 10;
    display: ${props => props.$toggle ? "grid" : "none"};
    align-items: center;
    justify-content: center;
	-webkit-animation: fade-in-fwd 0.6s cubic-bezier(0.390, 0.575, 0.565, 1.000) both;
	        animation: fade-in-fwd 0.6s cubic-bezier(0.390, 0.575, 0.565, 1.000) both;
`


const EditButton = styled.button`
    width: fit-content;
    height: fit-content;
    display: ${props => props.$toggle ? "block" : "none"};
`


export default function DialogScreen({buttonText, children, Button}){
    const [toggle, setToggle] = useState(false)
    const handleScreenToggle = () => {
        setToggle(!toggle);
    }
    //<Button onClick={handleScreenToggle} $toggle = {!toggle}>{buttonText}</Button> 
    //clones the children element and adds a new prop called handlescreentoggle
    const Screen = React.cloneElement(children, {handleScreenToggle: handleScreenToggle});
    const Temp = Button ? React.cloneElement(Button, {$toggle: toggle, onClick: handleScreenToggle}) : <EditButton $toggle = {toggle} handleScreenToggle = {handleScreenToggle}>{buttonText}</EditButton>;
    
    return (
        <>
            {Temp}
            <Page $toggle = {toggle}>
                {Screen}
            </Page>
        </>
    )
}